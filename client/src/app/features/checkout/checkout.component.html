<div class="background-container">
  <div class="top-container">
    <div class="tabs-container">
      <button class="tab" [ngClass]="{ active: activeTab === 0 }" (click)="scrollToSection(0)">{{ 'delivery-type' | translate }}</button>
      <button class="tab" [ngClass]="{ active: activeTab === 1 }" (click)="scrollToSection(1)">{{ 'user-data' | translate }}</button>
      <button class="tab" [ngClass]="{ active: activeTab === 2 }" (click)="scrollToSection(2)">{{ 'payment-method' | translate }}</button>
    </div>
  
    <app-summary class="cart-summary-right"></app-summary>
  </div>

  <div class="checkout-container" #checkoutForm>
    <form [formGroup]="checkoutFormGroup">
      <section #section0>
        <span class="title">{{ 'delivery-type' | translate }}</span>
        <div class="delivery-options text-default">
          <label *ngFor="let option of deliveryOptions">
            <input type="radio" formControlName="deliveryType" [value]="option.value" />
            {{ option.label | translate }}
          </label>
        </div>
        <div *ngIf="getErrorMessage('deliveryType')" class="error-message">
          {{ 'select-delivery-type' | translate }}
        </div>
      </section>

      <section #section1>
        <div class="title">{{ 'user-data' | translate }}</div>
        <div class="user-data">
          <app-custom-field
            formControlName="fullName"
            [label]="'fullname' | translate"
            [placeholder]="'fullname-placeholder' | translate"
            [errorMessage]="getErrorMessage('fullName')">
          </app-custom-field>
          <app-custom-field
            formControlName="phone"
            [label]="'phone' | translate"
            type="tel"
            [isPhone]="true"
            [placeholder]="'phone-placeholder' | translate"
            [errorMessage]="getErrorMessage('phone')">
          </app-custom-field>
          <app-custom-field
            formControlName="email"
            [label]="'email' | translate"
            type="email"
            [placeholder]="'email-placeholder' | translate"
            [errorMessage]="getErrorMessage('email')">
          </app-custom-field>
          <app-custom-field
            formControlName="city"
            [label]="'city' | translate"
            [placeholder]="'city-placeholder' | translate"
            [errorMessage]="getErrorMessage('city')">
          </app-custom-field>
          <app-custom-field
            formControlName="address"
            [label]="'address' | translate"
            [placeholder]="'address-placeholder' | translate"
            [errorMessage]="getErrorMessage('address')">
          </app-custom-field>
          <app-custom-field
            formControlName="comment"
            [label]="'comment' | translate"
            [placeholder]="'comment-placeholder' | translate">
          </app-custom-field>
        </div>
      </section>

      <section #section2>
        <div class="title">{{ 'payment-methods' | translate }}</div>
        <div class="payment-options text-default">
          <label *ngFor="let option of paymentOptions">
            <input type="radio" formControlName="paymentMethod" [value]="option.value" />
            {{ option.label | translate }}
          </label>
        </div>
        <div *ngIf="getErrorMessage('paymentMethod')" class="error-message">
          {{ 'select-payment-method' | translate }}
        </div>
        <span class="text-xs color-default">{{ 'payment-note' | translate }}</span>
      </section>
    </form>
  </div>

  <div class="footer">
    <app-button type="btn" [text]="'continue' | translate" (buttonClick)="continueCheckout()"></app-button>
  </div>
</div>
